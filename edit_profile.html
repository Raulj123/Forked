<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile</title>
    <link rel="stylesheet" href="edit_profile.css">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
</head>
<body>
    
    <div class = "head">
    <h2>Settings</h2>
    </div>
    <div class="content-wrapper">
    <aside>
    <div class = "side-bar">
    <ul>
        <li><a href="home.html" class="btn btn-primary custom-btn">Home</a></li>
        <li><a href="edit_profile.html" class="btn btn-primary custom-btn">Edit Profile</a></li>
        <li><a href="change_password.html" class="btn btn-primary custom-btn">Change Password</a></li>
        <li><a href="index.html" class="btn btn-primary custom-btn">Log Out</a></li>
    </ul>
    </div>
    </aside>
    <div class = "mx-auto subHeader">
    <h2>Edit Profile</h2>
    <div class = "mx-auto profile-picture">
    <img src="https://mdbcdn.b-cdn.net/img/new/avatars/1.webp" class="rounded-circle shadow-4"
    style="width: 150px;" alt="Avatar" />
    <a href="change-profile-picture.html" title="Change Profile Picture">Change Profile Picture</a>
    
    <form class="mx-auto centered-form">
    <div class = "form-container">
        <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" id="firstName">
          </div>
          
          <div class="form-group">
              <label for="lastName">Last Name</label>
              <input type="text" class="form-control" id="lastName">
          </div>
        <div class="form-group">
          <label for="InputEmail1">Email address</label>
          <input type="email" class="form-control" id="email" aria-describedby="emailHelp">
        </div>
        <div class="form-group">
            <label for="major">Major</label>
            <input type="text" class="form-control" id="major">
        </div>
      
        <button type="submit" id="sub" class="btn btn-primary">Submit</button>
      </form>
    </div>
</div>
</div>

</body>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";

import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics.js";
import { getDatabase, set, update, remove, ref, child } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";

// Import the functions you need from the SDKs you need



// TODO: Add SDKs for Firebase products that you want to use

// https://firebase.google.com/docs/web/setup#available-libraries


// Your web app's Firebase configuration

// For Firebase JS SDK v7.20.0 and later, measurementId is optional

const firebaseConfig = {

  apiKey: "AIzaSyB0-dpVIxUu3yflvnq9sC0r0JDpnrlGrCI",

  authDomain: "hackathon-9dd6f.firebaseapp.com",

  projectId: "hackathon-9dd6f",

  storageBucket: "hackathon-9dd6f.appspot.com",

  messagingSenderId: "303763798557",

  appId: "1:303763798557:web:491afe62c8d14b39c4e4f4",

  measurementId: "G-EVZBJS4SSX"

};


// Initialize Firebase

const app = initializeApp(firebaseConfig);

const analytics = getAnalytics(app);





const db = getDatabase();

var firstName = document.querySelector("#firstName");
var lastName = document.querySelector("#lastName");
var email = document.querySelector("#email");
var major = document.querySelector("#major");
const subBtn = document.querySelector('#sub');
subBtn.addEventListener('click', addData);


  
  function addData(){
    if(firstName.value =="" || lastName.value == "" || email.value=="" || major.value==""){
        alert("Please include all fields")
    }else{
      // data is in Users would like it in a seperate table just dont know how?
        set(ref(db, "Users/UsersInfo/" + firstName.value),{
            First: firstName.value,
            Last: lastName.value,
            Email: email.value,
            Major: major.value
        })
        .then(() =>{
            alert("Data Entered");
        })
    }
      
  }
  
</script>
</html>