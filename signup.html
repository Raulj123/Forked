<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet"
    href="https://mdbcdn.b-cdn.net/wp-content/themes/mdbootstrap4/docs-app/css/dist/mdb5/standard/core.min.css">
  <!-- Define your CSS file here so you can style your HTML -->
  <link rel="stylesheet" href="login.css" />
  <!-- MDB icon -->
  <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" />
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" />
  <!-- MDB -->
  <link rel="stylesheet" href="css/bootstrap-login-form.min.css" />

  <title>Log In Page</title>
</head>

<body>
  <section class="vh-100" style="background-color: #508bfc;">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
          <div class="card shadow-2-strong" style="border-radius: 3rem;">
            <div class="card-body p-5 text-center">

              <h3 class="mb-5">Create an account!</h3>

              <div class="form-outline mb-4" style="position: relative;">
                <label class="label" for="typeEmailX-2">User Name</label>
                <input type="email" id="typeEmailX-2" style="border: 1px solid black;" class="form-control form-control-lg" />
                
              </div>

              <div class="form-outline mb-4">
                <label class="label" for="typePasswordX-2">Password</label>
                <input type="password" style="border: 1px solid black;" id="typePasswordX-2" class="form-control form-control-lg" />
                
              </div>



              <button class="btn btn-primary btn-lg btn-block" id="btnLog" type="submit">Submit</button>

              <hr class="my-4">

              <button class="btn btn-lg btn-block btn-primary" onclick="window.location.href = 'index.html'" ;
                style="background-color: #dd4b39;" type="submit"><i></i> Click me to Log In</button>


            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End your project here-->
  <!--onclick ="window.location.href = 'login.html'";-->
  <script type="module">

    // Import the functions you need from the SDKs you need

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";

    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics.js";

    // TODO: Add SDKs for Firebase products that you want to use

    // https://firebase.google.com/docs/web/setup#available-libraries


    // Your web app's Firebase configuration

    // For Firebase JS SDK v7.20.0 and later, measurementId is optional

    const firebaseConfig = {

      apiKey: "AIzaSyB0-dpVIxUu3yflvnq9sC0r0JDpnrlGrCI",

      authDomain: "hackathon-9dd6f.firebaseapp.com",

      projectId: "hackathon-9dd6f",

      storageBucket: "hackathon-9dd6f.appspot.com",

      messagingSenderId: "303763798557",

      appId: "1:303763798557:web:491afe62c8d14b39c4e4f4",

      measurementId: "G-EVZBJS4SSX"

    };


    // Initialize Firebase

    const app = initializeApp(firebaseConfig);

    const analytics = getAnalytics(app);

    import { getDatabase, set, update, remove, ref, child } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";





    const db = getDatabase();
    var user = document.querySelector("#typeEmailX-2");
    var pass = document.querySelector("#typePasswordX-2");

    var finduser = document.querySelector("#typeEmailX-2");
    var findpass = document.querySelector("#typePasswordX-2");
    var btnLog = document.querySelector('#btnLog');


    btnLog.addEventListener('click', insertData);

    function insertData() {
        if(user.value =="" || pass.value == ""){
          alert("Please enter a user name and password");
        }else{
          set(ref(db, "Users/" + user.value), {

            Name: user.value,
            Pass: pass.value

            })
            .then(() => {
              alert("Data entered!");
              window.location.href = "index.html";
            })
            .catch((error) => {
              alert(error);
            })
        }
        
      }
    



  </script>

</body>

</html>